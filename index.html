<!DOCTYPE html>
<html>
<head>
    <title>first example</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-default/index.css">
    <link rel="stylesheet" href="./css/index.css">

</head>

<body>
<div id="app">
    <el-row>
        <el-col :span="24">
            <div class="grid-content dx-edit-pd bg-purple-dark">
                <el-breadcrumb separator="/">
                    <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
                    <el-breadcrumb-item>场景设置</el-breadcrumb-item>
                </el-breadcrumb>
            </div>
        </el-col>
        <el-col :span="24">
            <div class="grid-content dx-edit-pd grid-content-right">
                <el-button size="small">保存</el-button>
                <el-button type="primary" size="small">保存并发布</el-button>
            </div>
        </el-col>
    </el-row>
    <el-row>
        <el-col :span="24">
            <div class="dx-widget-all">
                <div class="Grid" v-for="item in widget">
                    <div v-for="grid in item.list" class="Grid-cell" v-bind:style="{background: grid.color, height: grid.height + 'px' ,flex: grid.width,}">
                        <el-button v-if="grid.singerSmall === 'true'" type="primary" size="small" @click.active="singerSmallClick">最小化</el-button>
                        <el-button v-if="grid.multipleSmall === 'true'" type="primary" size="small" @click.active="multipleSmallClick">最小化</el-button>
                    </div>
                </div>
            </div>
        </el-col>
    </el-row>
</div>

</body>
<!-- 先引入 Vue -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- 引入组件库 -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    var app = new Vue({
        el: '#app',
        data: {
//            isActive: '',
            widget: [
                {
                    list:[
                        {
                            width : '80',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'false',
                            color: "green"
                        },
                        {
                            width : '10',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "pink"
                        },
                        {
                            width : '10',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "black"
                        }
                    ],
                    show: "false"

                },
                {
                    list:[
                        {
                            width : '1',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "green"
                        },
                        {
                            width : '2',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "pink"
                        },
                        {
                            width : '3',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "black"
                        },
                        {
                            width : '3',
                            height : '100',
                            singerSmall : 'false',
                            multipleSmall : 'true',
                            color: "black"
                        }
                    ],
                    show: "false"
                },
                {
                    list:[
                        {
                            width : '2',
                            height : '100',
                            singerSmall : 'true',
                            multipleSmall : 'false',
                            color: "green"
                        }
                    ],
                    show: "false"
                },
                {
                    list:[
                        {
                            width : '2',
                            height : '100',
                            singerSmall : 'true',
                            multipleSmall : 'false',
                            color: "green"
                        },
                        {
                            width : '2',
                            height : '100',
                            singerSmall : 'true',
                            multipleSmall : 'false',
                            color: "green"
                        }
                    ],
                    show: "false"
                }

            ]
        },
        // 在 `methods` 对象中定义方法
        methods: {
            singerSmallClick: function (event) {
                if(event.target.tagName=='BUTTON'){
                    if(event.target.textContent=='最大化'){
                        event.target.parentNode.className='Grid-cell';
                        event.target.textContent='最小化';
                    }else{
                        event.target.parentNode.className+=' Grid-height-none';
                        event.target.textContent='最大化';
                    }
                }else{
                    if(event.target.textContent=='最大化'){
                        event.target.parentNode.parentNode.className='Grid-cell';
                        event.target.textContent='最小化';
                    }else{
                        event.target.parentNode.parentNode.className+=' Grid-height-none';
                        event.target.textContent='最大化';
                    }

                }
            },
            multipleSmallClick: function (event) {
                if(event.target.tagName=='BUTTON'){
                    if(event.target.textContent=='最大化'){
                        event.target.parentNode.className='Grid-cell';
                        event.target.textContent='最小化';
                    }else{
                        event.target.parentNode.className+=' Grid-width-none';
                        event.target.textContent='最大化';
                    }
                }else{
                    if(event.target.textContent=='最大化'){
                        event.target.parentNode.parentNode.className='Grid-cell';
                        event.target.textContent='最小化';
                    }else{
                        event.target.parentNode.parentNode.className+=' Grid-width-none';
                        event.target.textContent='最大化';
                    }

                }
            }
        }
    })
</script>
</html>